<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hazelnut Grower Agreement - Willamette Hazelnut Inc.</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <style>
    html, body {
      max-width: 100%;
      overflow-x: hidden;
    }
    *, *::before, *::after {
      box-sizing: border-box;
    }
    body {
      font-family: 'Libre Baskerville', serif;
      background: #f7f7f7;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .banner img {
      width: 100%;
      display: block;
      margin: 0 auto 10px auto;
    }
    .header-container {
      max-width: 1000px;
      margin: auto;
    }
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    .page-header .logo {
      max-width: 180px;
    }
    .page-header h1 {
      margin: 0;
      text-align: center;
      flex: 1;
    }
    .page-header .contact {
      text-align: right;
      color: #264d19; /* dark green */
      line-height: 1.3;
      font-size: 0.9em;
    }
    @media (max-width: 600px) {
      .page-header {
        flex-direction: column;
        text-align: center;
      }
      .page-header .contact {
        text-align: center;
        margin-top: 10px;
      }
        .form-columns,
      .inline,
      .signature-lines {
        flex-direction: column;
      }
      .form-columns .col,
      .inline > div,
      .signature-lines div {
        width: 100%;
      }
      table {
        display: block;
        overflow-x: auto;
      }
    }
    .title {
      text-align: center;
      margin-bottom: 10px;
      color: #4b2e2e;
      line-height: 1;
    }
    .title .hazel {
      font-size: 2em;
      display: block;
      margin-bottom: -2px;
    }
  .title .agreement {
    font-size: 1.2em;
    display: block;
    letter-spacing: 0.1em;
  }
  .required {
    color: red;
  }
  form {
    max-width: 1000px;
    margin: auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  }
  label {
    display: block;
    margin-bottom: 4px;
    font-weight: bold;
    color: #264d19;
  }
  input[type="text"],
  input[type="email"],
  input[type="date"],
  input[type="tel"],
  select,
  textarea {
    width: 100%;
    padding: 8px;
    margin-bottom: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-family: inherit;
  }
#receivedAt {
  width: 100%;
  margin-bottom: 30px;
}
  .inline {
    flex-wrap: wrap;
    display: flex;
    gap: 20px;
  }
  .inline > div {
    min-width: 100px;
    flex: 1;
  }
  .full-line {
    width: 100%;
  }
.button-group {
  margin-top: 8px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.button-group button {
  flex: 1 1 200px;
}
.form-columns {
  flex-wrap: wrap;
  display: flex;
  gap: 20px;
  margin-bottom: 10px;
  width: 100%;
}

.form-columns .col {
  flex: 1 1 0;
  min-width: 250px;
  width: 100%;
}

  }
  .small {
    font-size: 0.8em;
    font-style: italic;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 6px;
    text-align: left;
  }
  th {
    background: #264d19;
    color: #fff;
  }
  td input {
    width: 100%;
    border: none;
    padding: 4px;
    box-sizing: border-box;
  }
  .radio-group {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
  }
  .radio-group label {
    margin-right: 10px;
    font-weight: normal;
  }
  .radio-label {
    font-weight: bold;
    margin-right: 10px;
  }
  .signature {
    margin-top: 40px;
    display: flex;
    justify-content: space-between;
  }
  .signature div {
    width: 45%;
  }
  .signature input {
    width: 100%;
  }
  h2 {
    margin-top: 30px;
    color: #4b2e2e;
  }
  .note {
    font-size: 0.9em;
    font-style: italic;
    margin-top: 8px;
    margin-bottom: 12px;
  }
.legal-text {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 20px;
    font-family: Georgia, 'Times New Roman', Times, serif;
    line-height: 1.4;
    font-size: 0.85em;
    background: #e6f5e6;
    color: #4b2e2e;
    text-align: justify;
  }
  .cash-section {
    margin-top: 40px;
    border-top: 2px solid #4b2e2e;
    padding-top: 20px;
  }
  .cash-section h2 {
    background: #87461f;
    color: #fff;
    font-size: 1.2em;
    margin: 0 0 10px;
    padding: 8px;
    text-align: center;
    text-transform: uppercase;
  }
  .split-section {
    margin-top: 40px;
  }
  .split-section h2 {
    background: #87461f;
    color: #fff;
    font-size: 1.2em;
    margin: 0 0 10px;
    padding: 8px;
    text-align: center;
    text-transform: uppercase;
  }
  .split-info {
    font-family: Georgia, 'Times New Roman', Times, serif;
    color: #333;
    margin-bottom: 10px;
    font-size: 1em;
  }
  .split-block-title {
    background: rgba(38,77,25,0.2);
    color: #4b2e2e;
    padding: 8px;
    margin: 12px 0;
    text-transform: uppercase;
  }
  .split-block {
    margin-bottom: 20px;
  }
  .add-section {
    margin-top: 40px;
    border-top: 2px solid #4b2e2e;
    padding-top: 20px;
  }
  .add-section h2 {
    background: #87461f;
    color: #fff;
    font-size: 1.2em;
    margin: 0 0 10px;
    padding: 8px;
    text-align: center;
    text-transform: uppercase;
  }
  .add-section h2 .optional {
    font-size: 0.8em;
    font-style: italic;
    text-transform: none;
  }
  .signature-lines {
    margin: 30px 0;
    display: flex;
    justify-content: space-between;
  }
  .signature-lines div {
    width: 45%;
    text-align: center;
  }
.signature-container {
    text-align: center;
  }
.signature-pad {
    width: 100%;
    height: 150px;
    border: 1px solid #333;
    border-radius: 4px;
  }
.clear-btn {
    margin-top: 4px;
    font-size: 0.8em;
  }
.signature-input {
    width: 100%;
    border: 1px solid #333;
    padding: 10px;
    font-family: 'Lobster Two', cursive;
    font-size: 1.4em;
    font-weight: bold;
    text-align: center;
    border-radius: 4px;
  }
  .signature-input[disabled] {
    background: #eee;
    color: #666;
  }
  .signature-caption {
    display: block;
    margin-top: 4px;
    font-size: 0.9em;
  }
  .signature-note {
    font-size: 0.8em;
    display: block;
    margin-top: 2px;
  }
  .signature-lines.single {
    justify-content: center;
  }
  .signature-lines.single div {
    width: 60%;
  }

  .submit-btn {
    background: #32CD32;
    color: #fff;
    font-weight: bold;
    border: none;
    padding: 14px 40px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.2em;
    display: block;
    margin: 30px auto;
  }
</style>
  </head>
  <body>
  <div class="header-container">
  <div class="banner">
    <img src="Hazelnut-inshell.png" alt="Hazelnuts decorative">
  </div>
  <div class="page-header">
    <img src="willamette_hazelnut_logo.png" alt="Willamette Hazelnut logo" class="logo">
    <h1 class="title">
      <span class="hazel" style="color: #964B00;">HAZELNUT</span><br>
      <span class="agreement" style="color: #006400;">GROWER AGREEMENT</span>
    </h1>
    <div class="contact">
      <strong>Mailing Address:</strong><br>
      14975 NE Tangen Rd<br>
      Newberg, Oregon, 97132<br>
      TEL (503) 538 9256<br>
      <strong>www.whazelnut.com</strong>
    </div>
  </div>
</div>

<form id="hazelnutForm" method="post">
  <!-- PRIMER BLOQUE DE DOS COLUMNAS -->
  <div class="form-columns">
    <div class="col">
      <label for="growerName">Grower Name <span class="required">*</span></label>
      <input id="growerName" type="text" name="growerName" autocomplete="name" required placeholder="Full Name">

      <label for="contactName">Contact Name:</label>
      <input id="contactName" type="text" name="contactName" autocomplete="name" placeholder="Primary Contact">

      <label for="email">Email Address:</label>
      <input id="email" type="email" name="email" autocomplete="email" placeholder="you@example.com">

      <span class="radio-label">HGBA Member <span class="required">*</span></span>
      <label><input type="radio" name="hgba" value="yes" required> Yes</label>
      <label><input type="radio" name="hgba" value="no"> No</label>
    </div>

    <div class="col">
      <label for="date">Date <span class="required">*</span></label>
      <input id="date" type="date" name="date" required placeholder="mm-dd-yyyy">

      <label for="cropYear">Crop Year <span class="required">*</span></label>
      <input id="cropYear" type="text" name="cropYear" required placeholder="e.g., 2025">

      <label for="phoneDay">Phone (Day) <span class="required">*</span></label>
      <input id="phoneDay" type="tel" name="phoneDay" autocomplete="tel" required placeholder="555-555-5555">

      <label for="phoneEve">Phone (Eve)</label>
      <input id="phoneEve" type="tel" name="phoneEve" autocomplete="tel" placeholder="555-555-5555">
    </div>
  </div>

  <!-- MAILING ADDRESS -->
  <div class="form-columns">
    <div class="col">
      <label for="mailingAddress">Mailing Address: <span class="small">(What is the correct address to send checks to?)</span><span class="required">*</span></label>
      <input id="mailingAddress" type="text" name="mailingAddress" placeholder="Street Address" required>
    </div>
    <div class="col">
      <label for="city">City <span class="required">*</span></label>
      <input id="city" type="text" name="city" autocomplete="address-level2" required placeholder="City">
    </div>
  </div>

  <div class="form-columns">
    <div class="col">
      <label for="state">State <span class="required">*</span></label>
      <input id="state" type="text" name="state" autocomplete="address-level1" required placeholder="State">
    </div>
    <div class="col">
      <label for="zip">Zip <span class="required">*</span></label>
      <input id="zip" type="text" name="zip" autocomplete="postal-code" required placeholder="Zip">
    </div>
  </div>

<!-- ORCHARD LOCATION -->
<div class="full-line">
  <label for="orchardLocation">
    Orchard Location <span class="small">(What is the location of your hazelnut orchard(s)?)</span>
  </label>
  <input id="orchardLocation" type="text" name="orchardLocation"
         placeholder="Enter physical address or GPS coordinates if no address is available">

  <div class="button-group">
    <button type="button" id="mapButton">Open Google Maps</button>
    <button type="button" id="getLocationButton" onclick="getLocation()">Use My Location</button>
  </div>

  <p class="note">
    If the orchard has no physical address, please enter the GPS coordinates (e.g., 45.3000, -122.9700).
    You can <a href="https://www.google.com/maps" target="_blank" rel="noopener noreferrer">use Google Maps</a> to look them up.
  </p>
</div>

<script>
  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const coords = position.coords.latitude.toFixed(4) + ", " + position.coords.longitude.toFixed(4);
        document.getElementById("orchardLocation").value = coords;
      }, function (error) {
        alert("Could not get location: " + error.message);
      });
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }
  document.getElementById("mapButton").addEventListener("click", function() {
    const loc = document.getElementById("orchardLocation").value.trim();
    let url = "https://www.google.com/maps";
    if (loc) {
      url += "/search/" + encodeURIComponent(loc);
    }
    window.open(url, "_blank");
  });
</script>

  <table>
<thead>
  <tr>
    <th>Orchard Name</th>
    <th>Acreage</th>
    <th>Variety</th>
    <th>Planting Year</th>
  </tr>
</thead>
<tbody>
<tr>
  <td>
    <div style="position: relative;">
      <input type="text" name="orchard1" placeholder="Orchard" required>
      <span class="required" style="position: absolute; top: 0; right: 8px;">*</span>
    </div>
  </td>
  <td>
    <div style="position: relative;">
      <input type="text" name="acreage1" placeholder="Acreage" required>
      <span class="required" style="position: absolute; top: 0; right: 8px;">*</span>
    </div>
  </td>
  <td>
    <div style="position: relative;">
      <input type="text" name="variety1" placeholder="Variety" required>
      <span class="required" style="position: absolute; top: 0; right: 8px;">*</span>
    </div>
  </td>
  <td>
    <div style="position: relative;">
      <input type="text" name="year1" placeholder="Year" required>
      <span class="required" style="position: absolute; top: 0; right: 8px;">*</span>
    </div>
  </td>
</tr>
  <tr>
    <td><input type="text" name="orchard2" placeholder="Orchard-2"></td>
    <td><input type="text" name="acreage2" placeholder="Acre-2"></td>
    <td><input type="text" name="variety2" placeholder="Variety-2"></td>
    <td><input type="text" name="year2" placeholder="Year-2"></td>
  </tr>
  <tr>
    <td><input type="text" name="orchard3" placeholder="Orchard-3"></td>
    <td><input type="text" name="acreage3" placeholder="Acre-3"></td>
    <td><input type="text" name="variety3" placeholder="Variety-3"></td>
    <td><input type="text" name="year3" placeholder="Year-3"></td>
  </tr>
  <tr>
    <td><input type="text" name="orchard4" placeholder="Orchard-4"></td>
    <td><input type="text" name="acreage4" placeholder="Acre-4"></td>
    <td><input type="text" name="variety4" placeholder="Variety-4"></td>
    <td><input type="text" name="year4" placeholder="Year-4"></td>
  </tr>
  <tr>
    <td><input type="text" name="orchard5" placeholder="Orchard-5"></td>
    <td><input type="text" name="acreage5" placeholder="Acre-5"></td>
    <td><input type="text" name="variety5" placeholder="Variety-5"></td>
    <td><input type="text" name="year5" placeholder="Year-5"></td>
  </tr>
</tbody>
  </table>

  <div class="radio-group">
    <span class="radio-label">Do Any of Your Orchards Require an Orchard Payment Split?</span>
    <label><input type="radio" name="paymentSplit" value="yes"> Yes</label>
    <label><input type="radio" name="paymentSplit" value="no"> No</label>
  </div>

  <label for="payable"> Check payable to: (if different than Grower Name) </label>
  <input id="payable" type="text" name="checkPayable" placeholder="Payee Name">
  <p class="note">Minimum price paid and payment date will be per Willamette Hazelnut Inc. Company&rsquo;s published policy.</p>
<label for="receivedAt">Hazelnuts Received At</label>
  <select id="receivedAt" name="receivedAt">
    <option value="">-- Please select an option --</option>
    <option value="Blue Heron Farm - Monmouth">Blue Heron Farm - Monmouth</option>
    <option value="Christensen Farms - McMinnville">Christensen Farms - McMinnville</option>
    <option value="Ernst Nursery - St. Paul">Ernst Nursery - St. Paul</option>
    <option value="Four Ridge Orchards - Hillsboro">Four Ridge Orchards - Hillsboro</option>
    <option value="K&amp;D Receiving - Albany">K&amp;D Receiving - Albany</option>
    <option value="RK Farms - Aurora">RK Farms - Aurora</option>
    <option value="Rumpca Farms - Canby">Rumpca Farms - Canby</option>
    <option value="Willamette Hazelnut - Newberg">Willamette Hazelnut - Newberg</option>
  </select>

  <div class="legal-text">
    <p>Willamette Hazelnut, Inc. (hereafter referred to as Buyer) agrees to buy from Grower and Grower agrees to sell to Buyer the Hazelnut crop (from the described above properties) for the duration hereof. Payment will be made in accordance to the most recent version of the Hazelnut Growers Bargaining Association and Member-Growers&rsquo; Contract with Buyer. Grower assumes all risks of loss, damage, or deterioration of any Hazelnuts occurring prior to final acceptance thereof by Buyer. Grower warrants that Grower is the sole owner of the above described hazelnut crop free of encumbrances; that Grower has not previously contracted to sell or deliver any of said hazelnuts to any other person, that Grower shall not during the durations of this contract either encumber or contract for delivery to any other person the production above described; and that Grower shall deliver said Hazelnuts to Buyer free of all encumbrances. Grower warrants and represents that chemicals and fertilizer applied to acreage contracted herein, have been registered for use on Hazelnuts, and that Good Agricultural Practices (GAP) will be followed in all phases of production and harvesting of Hazelnuts delivered to Buyer. Buyer will refuse to accept delivery of any Lot known to have been treated with chemicals or fertilizer not registered for use on hazelnuts or otherwise not produced and harvested in accordance with GAP. If Grower elects not to participate in Buyer&rsquo;s Cash Advance Program, it is agreed that in the event Grower is unable to deliver said Hazelnuts to Buyer, on account of destruction by floods, weather conditions, or any unavoidable casualties, or in the event that Buyer shall be unable to process, handle, or ship said Hazelnuts on account of quarantine or other governmental restrictions, railroad or labor strikes, fire or other unavoidable casualties, or inability to get supplies on account of such restrictions, strikes, fires, or unavoidable casualties, then this contract shall be null and void upon written notice by either party to the other party or such inability to perform and the reason therefore. This agreement is intended to be an evergreen agreement and shall automatically renew and continue year to year. Either Buyer or Grower may elect to cancel this agreement by giving written notice to the other by electronic mail or certified mail, with a copy by regular mail, between the first and last day of February. </p>
  </div>

  <div class="signature-lines">
<div>
  <img src="signature.png" alt="Firma de Willamette Hazelnut Inc." style="max-width: 100%; height: auto; display: block; margin: 0 auto;">
  <span class="signature-caption">Buyer: Willamette Hazelnut Inc.</span>
</div>
      <div class="signature-container">
        <canvas id="growerSig1" class="signature-pad"></canvas>
        <button type="button" class="clear-btn" onclick="growerPad1.clear()">Clear</button>
        <input type="hidden" name="growerSig1Data" id="growerSig1Data">
        <span class="signature-caption">Grower's Signature</span>
      </div>
  </div>

  <div class="cash-section">
    <h2>CASH ADVANCE PROGRAM</h2>
    <div class="legal-text">
      <p>Willamette Hazelnut, Inc. (Buyer) conducts a voluntary Cash Advance Program for its grower suppliers. If Grower commits to deliver bearing acres (defined as fourth leaf trees or older), Buyer will advance $300 per acre to Grower upon the execution of this Agreement. Grower understands and agrees that upon delivery of the hazelnut crop to Buyer, the total amount advanced by Buyer to Grower will be deducted from the first payment to Grower. If Grower fails to deliver their hazelnut crop to Buyer on or before October 31st, such non-delivery shall constitute a breach of contract. Buyer will make reasonable efforts to resolve the matter informally before pursuing legal action. In the event legal proceedings are required to enforce this agreement or remedy a breach, the prevailing party shall be entitled to recover reasonable attorney&rsquo;s fees and associated costs.</p>
    </div>
    
    </div>
<div class="radio-group">
    <span class="radio-label">Will You Participate in the Cash Advance Program?</span>
    <label><input type="radio" name="cashAdvance" value="yes"> Yes</label>
    <label><input type="radio" name="cashAdvance" value="no"> No</label>
</div>

<div class="form-field">
  <label for="acreage">Number of Acres for Cash Advance:</label><br>
  <input id="acreage" type="number" name="acreageCash" min="0" step="1" placeholder="Enter number of acres" style="idth: 100%; max-width: 600px; padding: 12px 10px; font-size: 16px; margin-top: 4px; box-sizing: border-box;">
  <p class="note" style="font-style: italic; margin-top: 4px;">Must be equal to or less than acreage committed on this agreement</p>
</div>
  <div class="signature-lines single">
      <div class="signature-container">
        <canvas id="growerSig2" class="signature-pad"></canvas>
        <input type="hidden" name="growerSig2Data" id="growerSig2Data">
        <button type="button" class="clear-btn" onclick="growerPad2.clear()">Clear</button>
        <span class="signature-caption">Grower's Signature</span>
      </div>
  </div>
  </div>


  <div class="add-section">
    <h2>ADDITIONAL ORCHARDS <span class="optional">(if needed)</span></h2>
    <table>
      <thead>
        <tr>
          <th>Orchard Name</th>
          <th>Acreage</th>
          <th>Variety</th>
          <th>Planting Year</th>
        </tr>
      </thead>
      <tbody>
        <tr><td><input type="text" name="addorchard1" placeholder="Orchard"></td><td><input type="text" name="addacreage1" placeholder="Acreage"></td><td><input type="text" name="addvariety1" placeholder="Variety"></td><td><input type="text" name="addyear1" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard2" placeholder="Orchard"></td><td><input type="text" name="addacreage2" placeholder="Acreage"></td><td><input type="text" name="addvariety2" placeholder="Variety"></td><td><input type="text" name="addyear2" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard3" placeholder="Orchard"></td><td><input type="text" name="addacreage3" placeholder="Acreage"></td><td><input type="text" name="addvariety3" placeholder="Variety"></td><td><input type="text" name="addyear3" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard4" placeholder="Orchard"></td><td><input type="text" name="addacreage4" placeholder="Acreage"></td><td><input type="text" name="addvariety4" placeholder="Variety"></td><td><input type="text" name="addyear4" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard5" placeholder="Orchard"></td><td><input type="text" name="addacreage5" placeholder="Acreage"></td><td><input type="text" name="addvariety5" placeholder="Variety"></td><td><input type="text" name="addyear5" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard6" placeholder="Orchard"></td><td><input type="text" name="addacreage6" placeholder="Acreage"></td><td><input type="text" name="addvariety6" placeholder="Variety"></td><td><input type="text" name="addyear6" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard7" placeholder="Orchard"></td><td><input type="text" name="addacreage7" placeholder="Acreage"></td><td><input type="text" name="addvariety7" placeholder="Variety"></td><td><input type="text" name="addyear7" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard8" placeholder="Orchard"></td><td><input type="text" name="addacreage8" placeholder="Acreage"></td><td><input type="text" name="addvariety8" placeholder="Variety"></td><td><input type="text" name="addyear8" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard9" placeholder="Orchard"></td><td><input type="text" name="addacreage9" placeholder="Acreage"></td><td><input type="text" name="addvariety9" placeholder="Variety"></td><td><input type="text" name="addyear9" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard10" placeholder="Orchard"></td><td><input type="text" name="addacreage10" placeholder="Acreage"></td><td><input type="text" name="addvariety10" placeholder="Variety"></td><td><input type="text" name="addyear10" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard11" placeholder="Orchard"></td><td><input type="text" name="addacreage11" placeholder="Acreage"></td><td><input type="text" name="addvariety11" placeholder="Variety"></td><td><input type="text" name="addyear11" placeholder="Year"></td></tr>
        <tr><td><input type="text" name="addorchard12" placeholder="Orchard"></td><td><input type="text" name="addacreage12" placeholder="Acreage"></td><td><input type="text" name="addvariety12" placeholder="Variety"></td><td><input type="text" name="addyear12" placeholder="Year"></td></tr>
      </tbody>
    </table>
    </div>

    <div class="split-section">
      <h2>ORCHARD SPLIT INFORMATION</h2>
      <p class="split-info">By completing this section, I understand that my orchards recorded below will be split with a third-party based on the percentage I assign. The third-party indicated will be paid directly by Willamette Hazelnut Inc. in accordance with the Company&rsquo;s published policy.</p>

      <div class="split-block">
        <div class="split-block-title">SPLIT #1</div>
        <label for="split1Orchard">Orchard Name</label>
        <input id="split1Orchard" type="text" name="split1Orchard" placeholder="Orchard">
        <label for="split1Third">Third-Party Grower Name</label>
        <input id="split1Third" type="text" name="split1Third" placeholder="Third-Party Name">
        <label for="split1Percent">% To Be Paid to Third-Party</label>
        <input id="split1Percent" type="text" name="split1Percent" placeholder="Percentage">
        <label for="split1Address">Third-Party Mailing Address</label>
        <input id="split1Address" type="text" name="split1Address" placeholder="Mailing Address">
      </div>

      <div class="split-block">
        <div class="split-block-title">SPLIT #2</div>
        <label for="split2Orchard">Orchard Name</label>
        <input id="split2Orchard" type="text" name="split2Orchard" placeholder="Orchard">
        <label for="split2Third">Third-Party Grower Name</label>
        <input id="split2Third" type="text" name="split2Third" placeholder="Third-Party Name">
        <label for="split2Percent">% To Be Paid to Third-Party</label>
        <input id="split2Percent" type="text" name="split2Percent" placeholder="Percentage">
        <label for="split2Address">Third-Party Mailing Address</label>
        <input id="split2Address" type="text" name="split2Address" placeholder="Mailing Address">
      </div>

      <div class="split-block">
        <div class="split-block-title">SPLIT #3</div>
        <label for="split3Orchard">Orchard Name</label>
        <input id="split3Orchard" type="text" name="split3Orchard" placeholder="Orchard">
        <label for="split3Third">Third-Party Grower Name</label>
        <input id="split3Third" type="text" name="split3Third" placeholder="Third-Party Name">
        <label for="split3Percent">% To Be Paid to Third-Party</label>
        <input id="split3Percent" type="text" name="split3Percent" placeholder="Percentage">
        <label for="split3Address">Third-Party Mailing Address</label>
        <input id="split3Address" type="text" name="split3Address" placeholder="Mailing Address">
      </div>

      <div class="split-block">
        <div class="split-block-title">SPLIT #4</div>
        <label for="split4Orchard">Orchard Name</label>
        <input id="split4Orchard" type="text" name="split4Orchard" placeholder="Orchard">
        <label for="split4Third">Third-Party Grower Name</label>
        <input id="split4Third" type="text" name="split4Third" placeholder="Third-Party Name">
        <label for="split4Percent">% To Be Paid to Third-Party</label>
        <input id="split4Percent" type="text" name="split4Percent" placeholder="Percentage">
        <label for="split4Address">Third-Party Mailing Address</label>
        <input id="split4Address" type="text" name="split4Address" placeholder="Mailing Address">
      </div>
    </div>

    <button type="submit" class="submit-btn">Submit</button>

</form>

<script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.6/dist/signature_pad.umd.min.js"></script>
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
  // Inicializar EmailJS
  emailjs.init("n9hL-Lm0sWOYQrYgi");

  const SERVICE_ID = "service_d3txw7k";
  const HAZELNUT_AGREEMENT = "template_8d7vx5l";
  const RESPONSES_TEMPLATE = "template_14975";

const growerSig1Canvas = document.getElementById("growerSig1");
const growerSig2Canvas = document.getElementById("growerSig2");

const growerPad1 = new SignaturePad(growerSig1Canvas);
const growerPad2 = new SignaturePad(growerSig2Canvas);

// Función para ajustar el tamaño del canvas de forma segura
function resizeCanvas(canvas, pad) {
  const ratio = Math.max(window.devicePixelRatio || 1, 1);
  canvas.width = canvas.offsetWidth * ratio;
  canvas.height = canvas.offsetHeight * ratio;
  const ctx = canvas.getContext("2d");
  ctx.setTransform(ratio, 0, 0, ratio, 0, 0); // Asegura coordenadas correctas
  pad.clear(); // Limpia la firma (solo debe llamarse una vez al cargar)
}

// Ajustar tamaño solo una vez al cargar
window.addEventListener("load", () => {
  resizeCanvas(growerSig1Canvas, growerPad1);
  resizeCanvas(growerSig2Canvas, growerPad2);
});
  
  const form = document.getElementById("hazelnutForm");

form.addEventListener("submit", function(e){
  e.preventDefault();

  // Validar que ambas firmas estén completas
  if (growerPad1.isEmpty() || growerPad2.isEmpty()) {
    alert("Please make sure both signature sections are completed before submitting the form.");
    return;
  }

// Convertir firmas a base64
  const sig1 = growerPad1.toDataURL();
  const sig2 = growerPad2.toDataURL();
  document.getElementById("growerSig1Data").value = sig1;
  document.getElementById("growerSig2Data").value = sig2;

  // IMPORTANTE: Usa una pequeña pausa para asegurar que el DOM tenga los valores listos
  setTimeout(() => {
    // Enviar al grower
    emailjs.sendForm(SERVICE_ID, HAZELNUT_AGREEMENT, form).then(() => {
      console.log("Email sent to grower");
    }, err => {
      console.error("Failed sending to grower", err);
    });

    // Enviar copia interna
    emailjs.sendForm(SERVICE_ID, RESPONSES_TEMPLATE, form).then(() => {
      alert("Form submitted successfully.");
      form.reset();
      growerPad1.clear();
      growerPad2.clear();
    }, err => {
      alert("Error submitting form: " + err.text);
    });
  }, 200); // pequeña pausa para que se actualicen los campos hidden
});
</script>
</body>
</html>
